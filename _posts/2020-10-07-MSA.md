---
layout: post
title: "2020-10-07-MSA"
date: 2020-10-07 09:24:10
author: negan k
categories: arch
tags: msa
---

## MSA

- 서로간의 모듈이 독립적으로 동작
  - 장애, 배포, 부하에 독립적으로 동작
- 정해진 규격으로 API로 동작 가능
  - 어떤 언어, was라 해도 rest규격으로 통신

## MSA를 거부하는 이유

- 1단계
  - 경험이 없음. 막연히 높은 수준의 기술을 요구하는 아키텍쳐로 생각함
  - 조인없이 어떻게 개발할지 막막함
  - 보상 트랜젝션에 대한 구현에 자신이 없음. 기존공수의 1.5배 이상을 요ㄱ구
  - 운영 졸라 빡세네 모듈별로 1명이상?
  - 동일한 테이블에 대한 복제에 거부감. 비정규화 왜 복제해야 되는거야? ETL이라도 해주나?

거부감 2단계(좀 해보신분)

1. 모듈별로 사일로가 되서 r&r로 싸울꺼임
2. 화면에서 api를 너무 찔러서 네트워크 비용 어쩔꺼임
3. 공통모듈에서 좀 지원 좀 해줘!! 딴데는 이것도 해주던데
4. 모듈을 여러개 거치는 api는 어째?
5. 큐에서 데이터 유실 되면 장애대응이 안됨.
6. 복제된 데이터의 싱크가 안맞드라
7. 기획부서와 msa모듈을 맞추니 개발적 구조가 맞지않음

거부감 비논리

1. 우리규모에 MSA를 굳이해야됨?
2. 웹하고 api서버가 왜 분리됨?
   이건 3tear 구조인데 msa랑 헷깔리는 사람이 있음
3. 오라클 써야 되는데 mysql모야?
   클라우드랑 헷깔림
4. nosql은 로그 적재로나 쓰지머
   nosql은 rdms의 대체이지 log대체가 아니다.
5. 조인해야 되는데 왜못하게 하지
   굳이 msa가 아니여도 최근 퍼포먼스를 위해 비정규화 개발이 많아짐
6. 돈많이 들고 운영상 힘드니 모노톨릭으로 해서 패키지로만 나누자
   모노톨릭에서도 컴포넌트 단위의 재사용성을 위해 패키지 분리개발은 기본적인 방법임

- 흠흐므ㅡ
  - 러러가ㅓ다

> 아ㅓㄹ아ㅗ랑

```
Code
```

## 테이블

| 내용1 | 내용2  |
| ----- | ------ |
| 옙    | 2.6.10 |
| ㅇㅇ  | 3.1.1  |
| ㅁㅁ  | 4.32.2 |
